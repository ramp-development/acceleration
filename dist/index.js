"use strict";(()=>{var T=()=>{let t=window.location.href;[...document.querySelectorAll("[data-copy-url]")].forEach(o=>{o.addEventListener("click",()=>{navigator.clipboard.writeText(t)})})};var y=(t,e,o={})=>{let n=document.createElement(t);return Object.entries(o).forEach(([r,i])=>{if(r==="class"){n.classList.add(i);return}if(r==="dataset"){Object.entries(i).forEach(([s,a])=>{n.dataset[s]=a});return}if(r==="text"){n.textContent=i;return}if(r==="callback"){n.onload=i;return}n.setAttribute(r,i)}),e.appendChild(n),n};var H=()=>{y("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:t});function t(){[...document.querySelectorAll(".splide")].forEach(o=>{let n=new Splide(o,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2,gap:"2.5rem"},767:{perPage:1,gap:"2.5rem"}}});n.mount(),document.addEventListener("refreshSplide",()=>{n.refresh()})})}};var E=(t,e=document)=>{let o=e.querySelector(t);return o!=null?o:void 0};var g=(t,e=document)=>{let o=e.querySelectorAll(t);return o.length?[...o]:[]};var v=()=>document.createComment("* placeholder * for element");var I=t=>fetch(t).then(e=>e.text()).then(e=>new DOMParser().parseFromString(e,"text/html"));var q=(t,e,o)=>{o=Math.max(0,Math.min(o,t.children.length)),o===t.children.length?t.appendChild(e):(t.insertBefore(e,t.children[o]),[...t.childNodes].indexOf(e)!==o&&t.insertBefore(e,t.children[o]))};var x=class{constructor(e){this.element=e;let{targetFor:o}=this.element.dataset;this.targetFor=o?o.split(", "):[];let{showIn:n}=this.element.dataset;this.showIn=n?n.split(", "):[];let{hideIn:r}=this.element.dataset;this.hideIn=r?r.split(", "):[];let{priorityIn:i}=this.element.dataset;this.priorityIn=i!=null?i:null;let s=this.element.getAttribute("data-priority-order");this.priorityOrder=s?Number(s):null,this.isVisible=!0,this.placeholder=v(),this.clone=this.element.cloneNode(!0)}showElement(){this.placeholder.replaceWith(this.element),this.isVisible=!0}hideElement(){this.element.replaceWith(this.placeholder),this.isVisible=!1}targetForMarket(e){I(e.link).then(o=>{this.targetFor.map(r=>{let i=o.querySelector(`[data-child-for="${r}"]`);return{parent:r,element:i}}).forEach(({parent:r,element:i})=>{let s=document.querySelector(`[data-target-for="${r}"]`);s&&i&&s.replaceChildren(i)})}).catch(o=>console.error(o))}showInMarket(e){if(this.showIn.includes("Global"))return;let o=this.showIn.includes(e);o&&!this.isVisible?this.showElement():!o&&this.isVisible&&this.hideElement()}hideInMarket(e){let o=this.hideIn.includes(e);o&&this.isVisible?this.hideElement():!o&&!this.isVisible&&this.showElement()}prioritiseInMarket(e){if(this.priorityIn===e){let{parentElement:n}=this.element;if(!n)return;this.clone=this.element.cloneNode(!0),this.element.replaceWith(this.placeholder),this.priorityOrder?q(n,this.clone,this.priorityOrder-1):n.prepend(this.clone)}else this.clone.remove(),this.placeholder.replaceWith(this.element);document.dispatchEvent(new CustomEvent("refreshSplide"))}updateVisibilityForMarket(e){this.targetFor.length>0&&this.targetForMarket(e),this.showIn.length>0&&this.showInMarket(e.id),this.hideIn.length>0&&this.hideInMarket(e.id),this.priorityIn&&this.prioritiseInMarket(e.id)}};var C=t=>{let e=new URL(window.location.href);e.searchParams.set("market",t),history.pushState({},"",e.toString()),sessionStorage.setItem("market",t)};var M=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(n=>t.dispatchEvent(new Event(n,{bubbles:!0}))).every(n=>n));var L=(t=document)=>t.documentElement.getAttribute("data-wf-site");var w=async t=>{var o,n;let{Webflow:e}=window;if(!(!e||!("destroy"in e)||!("ready"in e)||!("require"in e))&&!(t&&!t.length)){if(t||(e.destroy(),e.ready()),!t||t.includes("ix2")){let r=e.require("ix2");if(r){let{store:i,actions:s}=r,{eventState:a}=i.getState().ixSession,c=Object.entries(a);t||r.destroy(),r.init(),await Promise.all(c.map(p=>i.dispatch(s.eventStateChanged(...p))))}}if(!t||t.includes("commerce")){let r=e.require("commerce"),i=L();r&&i&&(r.destroy(),r.init({siteId:i,apiUrl:"https://render.webflow.com"}))}if(t!=null&&t.includes("lightbox")&&((o=e.require("lightbox"))==null||o.ready()),t!=null&&t.includes("slider")){let r=e.require("slider");r&&(r.redraw(),r.ready())}return t!=null&&t.includes("tabs")&&((n=e.require("tabs"))==null||n.redraw()),new Promise(r=>e.push(()=>r(void 0)))}};var A=()=>{window.scrollBy(0,100),window.scrollBy(0,-100)};var S=(t,e)=>{e.forEach(o=>o.updateVisibilityForMarket(t)),w(),A()};var D=(t,e)=>{e.forEach(o=>{o.textContent=t})};var P=t=>{let o=new URLSearchParams(window.location.search).get("market"),n=o||sessionStorage.getItem("market");!n||!Array.from(t.options).some(i=>i.value===n)||(t.value=n,t.dispatchEvent(new Event("change")))};var j=()=>{let t="data-localise",e=g(`[${t}="switcher-icon"]`),o=E(`[${t}="market-wrapper"]`),n=E(`[${t}="market-select"]`,o),r=E(`[${t}="market-list"]`);if(!n||!r)return;let i=g('[data-localise="market-link"]',r),s=g('[data-localise="market-icon"]',r),a=i.map((l,d)=>{var h,f,u,b;return{id:(h=l.textContent)!=null?h:"",link:l.href,langCodes:(b=(u=(f=l.dataset)==null?void 0:f.langCodes)==null?void 0:u.split(", "))!=null?b:[],icon:s[d]}}),c=g("[data-target-for], [data-show-in], [data-hide-in], [data-priority-in]").map(l=>new x(l)).reverse(),p=g('[data-localise="mirror-market"]');n.addEventListener("marketSelectReady",()=>{n.addEventListener("change",d=>{let{value:h}=d.target,f=a.find(u=>u.id===h);f&&(C(f.id),S(f,c),D(f.id,p),e.forEach(u=>{u.textContent=f.icon.textContent}))}),P(n);let l=a.find(d=>d.id===n.value);l===a[0]&&S(l,c)});let m=a.length;if(n.options.length===m){let l=new Event("marketSelectReady");n.dispatchEvent(l)}else new MutationObserver((d,h)=>{if(n.options.length===a.length){h.disconnect();let f=new Event("marketSelectReady");n.dispatchEvent(f)}}).observe(n,{childList:!0})};var F=()=>{};var V=()=>{window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async r=>{let[i]=r,{listInstance:s}=i,[a]=s.items,c=a.element,p=await t();s.clearItems();let m=p.map(d=>e(d,c));await s.addItems(m);let l=i.form.querySelectorAll('[data-element="filter-list"]');for(let d of l){let h=d.querySelector('[data-element="filter"]');if(!h)return;let f=h.parentElement;if(!f)return;h.remove();let{property:u}=d.dataset;if(!u)return;let b=o(p,u);for(let G of b){let k=n(G,h);k&&f.append(k)}}i.storeFiltersData()}]);let t=async()=>{let r={emea:{api:"groupmemea_jobfeedapi_key",sc:"a1d19b3f3a21cdde1558794436300152",subsidiaryName:"Acceleration"},northAmerica:{api:"groupmnorthamerica_jobfeedapi_key",sc:"60497c5c1cfa4d58341ec4060be40b2f",subsidiaryName:"GroupM%20Nexus%20Acceleration"}},i=[];Object.values(r).forEach(a=>{i.push(`https://api.jobvite.com/api/v2/job?api=${a.api}&sc=${a.sc}&subsidiaryName=${a.subsidiaryName}`)});let s=i.map(a=>fetch(a));return Promise.all(s).then(a=>Promise.all(a.map(c=>c.json()))).then(a=>a.reduce((m,l)=>m.concat(l.requisitions),[]).filter(m=>m.distribution)).catch(a=>{console.error(a)})},e=(r,i)=>{let s=i.cloneNode(!0),a=s.querySelector('[data-job="title"]'),c=s.querySelector('[data-job="description"]'),p=s.querySelector('[data-job="country"]'),m=s.querySelector('[data-job="department"]'),l=s.querySelector('[data-job="apply"]');return a&&(a.textContent=r.title),c&&(c.textContent=r.briefDescription),p&&(p.textContent=r.location),m&&(m.textContent=r.category),l&&(l.href=r.detailLink),s},o=(r,i)=>{let s=new Set;for(let a of r)s.add(a[i]);return[...s]},n=(r,i)=>{let s=i.cloneNode(!0),a=s.querySelector("span"),c=s.querySelector("input");if(!(!a||!c))return a.textContent=r,c.value=r,s}};var O=()=>{let t=[...document.querySelectorAll("[data-modal-button]")],e=[...document.querySelectorAll("[data-modal-trigger]")];[...document.querySelectorAll(".splide__arrows")].forEach(i=>{i.addEventListener("click",()=>{t=[...document.querySelectorAll("[data-modal-button]")],n()})});let n=()=>{t.forEach(i=>{i.removeEventListener("click",r),i.addEventListener("click",r)})},r=i=>{let a=i.currentTarget.dataset.modalButton,c=e.find(p=>p.dataset.modalTrigger===a);M(c,"click")};n()};var N=()=>{V(),O()};var W=()=>{Array.from(document.querySelectorAll('[data-filter="dropdown"]')).forEach(e=>{let o=e.querySelector('[data-filter-toggle="text"]'),n=e.querySelector('[data-filter-toggle="select"]'),r=e.querySelector('[data-filter-toggle="selected"]'),i=e.querySelector('[data-filter-toggle="additional"]'),s=[o,n,r,i];Array.from(e.querySelectorAll("input")).forEach(c=>{c.addEventListener("change",()=>{s.forEach(l=>{l&&(l.style.display="none")});let m=Array.from(e.querySelectorAll("input:checked")).map(l=>l.dataset.inputName).filter(Boolean);m.length===0?o&&(o.style.display="block"):m.length===1?r&&(r.textContent=m[0],r.style.display="inline"):m.length>1&&(r&&(r.textContent=`${m[0]}, `,r.style.display="inline"),i&&(i.textContent=`+${m.length-1}`,i.style.display="inline"))})})})};var $=()=>{let t=document.querySelector('[fs-cmsfilter-element="filters"]');if(!t)return;Array.from(t.querySelectorAll("input")).forEach(o=>{let n=o.dataset.inputName;if(!n)return;let r=n.toLowerCase().replace(/\s+/g,"-");o.name=n,o.id=r;let i=o.nextElementSibling;i&&i.setAttribute("for",o.id)})};var R=(t,e,o)=>{let n=new Date,r;switch(o){case"minutes":r=e*60*1e3;break;case"hours":r=e*60*60*1e3;break;case"days":r=e*24*60*60*1e3;break;case"months":r=e*30*24*60*60*1e3;break;case"years":r=e*365*24*60*60*1e3;break;default:throw new Error("Invalid time unit")}return n.getTime()-t.getTime()<=r};var B=t=>new Date(t);var J=()=>{let t="data-localise",o=g(`[${t}="resource"]`).filter(r=>{let i=E(`[${t}="resource-date"]`,r);if(!(i!=null&&i.textContent))return;let s=B(i.textContent);return R(s,1,"years")}),n=new Map;o.forEach(r=>{var s;let i=r.dataset.priorityIn;i&&(n.has(i)||n.set(i,[]),(s=n.get(i))==null||s.push(r))});for(let r of n.values())r.forEach((i,s)=>{i.dataset.priorityOrder=`${s+1}`})};var U=()=>{$(),W(),J()};var _=()=>{let t=0;y("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js",defer:!0,callback:n}),y("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js",defer:!0,callback:n});let e=document.querySelector('[data-sticky="vertical-center"]'),o=`${(window.innerHeight-e.offsetHeight)/2}px`;e.style.top=o;function n(){if(t+=1,t!==2)return;gsap.registerPlugin(ScrollTrigger);let r=document.querySelector(".capabilities_header"),i=[...document.querySelectorAll(".capabilities_list-item")],s=[...document.querySelectorAll(".capabilities_illustration")];gsap.matchMedia().add("(min-width: 768px)",()=>{i.forEach((c,p)=>{let m=gsap.timeline({scrollTrigger:{trigger:c,start:"top 50%",end:"bottom 50%",scrub:1}}),l=s.find(d=>d.classList.contains(`is-${p+1}`));m.to(l,{opacity:1,duration:1})})})}};var K=()=>{let{pathname:t}=window.location;switch(t){case"/about-us":F();break;case"/services":_();break;case"/resources":U();break;case"/careers":N();break}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{K(),j(),document.querySelector(".splide")&&H(),document.querySelector("[data-copy-url]")&&T()});})();
