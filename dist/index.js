"use strict";(()=>{var T=()=>{let o=window.location.href;[...document.querySelectorAll("[data-copy-url]")].forEach(t=>{t.addEventListener("click",()=>{navigator.clipboard.writeText(o)})})};var v=(o,e,t={})=>{let i=document.createElement(o);return Object.entries(t).forEach(([r,s])=>{if(r==="class"){i.classList.add(s);return}if(r==="dataset"){Object.entries(s).forEach(([n,a])=>{i.dataset[n]=a});return}if(r==="text"){i.textContent=s;return}if(r==="callback"){i.onload=s;return}i.setAttribute(r,s)}),e.appendChild(i),i};var w=()=>{v("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:o});function o(){[...document.querySelectorAll(".splide")].forEach(t=>{let i=new Splide(t,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2,gap:"2.5rem"},767:{perPage:1,gap:"2.5rem"}}});i.mount(),document.addEventListener("refreshSplide",()=>{i.refresh()})})}};var y=(o,e=document)=>{let t=e.querySelector(o);return t!=null?t:void 0};var E=(o,e=document)=>{let t=e.querySelectorAll(o);return t.length?[...t]:[]};var L=()=>document.createComment("* placeholder * for element");var H=o=>fetch(o).then(e=>e.text()).then(e=>new DOMParser().parseFromString(e,"text/html"));var I=(o,e,t)=>{t=Math.max(0,Math.min(t,o.children.length)),t===o.children.length?o.appendChild(e):(o.insertBefore(e,o.children[t]),[...o.childNodes].indexOf(e)!==t&&o.insertBefore(e,o.children[t]))};var M=class{constructor(e){this.targetFor=[];this.showIn=[];this.hideIn=[];this.element=e,this.targetFor=this.parseDataAttribute("targetFor"),this.showIn=this.parseDataAttribute("showIn"),this.hideIn=this.parseDataAttribute("hideIn");let{priorityIn:t}=this.element.dataset;this.priorityIn=t!=null?t:null;let i=this.element.getAttribute("data-priority-order");this.priorityOrder=i?Number(i):null,this.isVisible=!0,this.placeholder=L(),this.clone=this.element.cloneNode(!0)}parseDataAttribute(e){let t=this.element.dataset[e];return t?t.split(", "):[]}showElement(){this.placeholder.replaceWith(this.element),this.isVisible=!0}hideElement(){this.element.replaceWith(this.placeholder),this.isVisible=!1}targetForMarket(e){H(e.link).then(t=>{this.targetFor.map(r=>{let s=t.querySelector(`[data-child-for="${r}"]`);return{parent:r,element:s}}).forEach(({parent:r,element:s})=>{let n=document.querySelector(`[data-target-for="${r}"]`);n&&s&&n.replaceChildren(s)})}).catch(t=>console.error(t))}showInMarket(e){if(this.showIn.includes("Global")&&!this.element.dataset.override)return;let t=this.showIn.includes(e);t&&!this.isVisible?this.showElement():!t&&this.isVisible&&this.hideElement()}hideInMarket(e){let t=this.hideIn.includes(e);t&&this.isVisible?this.hideElement():!t&&!this.isVisible&&this.showElement()}prioritiseInMarket(e){let t=this.priorityIn===e;if(t&&e!=="Global"){let{parentElement:i}=this.element;if(!i)return;this.isVisible&&this.hideElement(),this.priorityOrder?I(i,this.clone,this.priorityOrder-1):i.prepend(this.clone),this.isVisible=!1}else t||(this.clone.remove(),this.isVisible=!0,this.placeholder.replaceWith(this.element),this.showIn.length>0&&this.showInMarket(e),this.hideIn.length>0&&this.hideInMarket(e));document.dispatchEvent(new CustomEvent("refreshSplide"))}updateVisibilityForMarket(e){this.targetFor.length>0&&this.targetForMarket(e),this.showIn.length>0&&this.showInMarket(e.id),this.hideIn.length>0&&this.hideInMarket(e.id),this.priorityIn&&this.prioritiseInMarket(e.id)}};var A=o=>{let e=new URL(window.location.href);e.searchParams.set("market",o),history.pushState({},"",e.toString()),sessionStorage.setItem("market",o)};var q=()=>{window.scrollBy(0,100),window.scrollBy(0,-100)};var x=(o,e)=>{e.forEach(t=>t.updateVisibilityForMarket(o)),q()};var C=(o,e)=>{e.forEach(t=>{t.textContent=o})};var D=o=>{let t=new URLSearchParams(window.location.search).get("market"),i=t||sessionStorage.getItem("market");!i||!Array.from(o.options).some(s=>s.value===i)||(o.value=i,o.dispatchEvent(new Event("change")))};var V=()=>{let o="data-localise",e=E(`[${o}="switcher-icon"]`),t=E(`[${o}="switcher-market"]`),i=y(`[${o}="market-wrapper"]`),r=y(`[${o}="market-select"]`,i),s=y(`[${o}="market-list"]`);if(!r||!s)return;let n=E('[data-localise="market-link"]',s),a=E('[data-localise="market-icon"]',s),l=n.map((m,u)=>{var f,d,g,b;return{id:(f=m.textContent)!=null?f:"",link:m.href,langCodes:(b=(g=(d=m.dataset)==null?void 0:d.langCodes)==null?void 0:g.split(", "))!=null?b:[],icon:a[u]}}),h=E("[data-target-for], [data-show-in], [data-hide-in], [data-priority-in]").map(m=>new M(m)).reverse(),c=E('[data-localise="mirror-market"]');r.addEventListener("marketSelectReady",()=>{r.addEventListener("change",u=>{let{value:f}=u.target,d=l.find(g=>g.id===f);d&&(A(d.id),x(d,h),C(d.id,c),e.forEach((g,b)=>{g.src=d.icon.src,g.alt=d.icon.alt,t[b].textContent=d.id}))}),D(r);let m=l.find(u=>u.id===r.value);m===l[0]&&x(m,h)});let p=l.length;if(r.options.length===p){let m=new Event("marketSelectReady");r.dispatchEvent(m)}else new MutationObserver((u,f)=>{if(r.options.length===l.length){f.disconnect();let d=new Event("marketSelectReady");r.dispatchEvent(d)}}).observe(r,{childList:!0})};var j=()=>{};var F=()=>{window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async r=>{let[s]=r,{listInstance:n}=s,[a]=n.items,l=a.element,h=await o();n.clearItems();let c=h.map(m=>e(m,l));await n.addItems(c);let p=s.form.querySelectorAll('[data-element="filter-list"]');for(let m of p){let u=m.querySelector('[data-element="filter"]');if(!u)return;let f=u.parentElement;if(!f)return;u.remove();let{property:d}=m.dataset;if(!d)return;let g=t(h,d);for(let b of g){let S=i(b,u);S&&f.append(S)}}s.storeFiltersData()}]);let o=async()=>{let r={emea:{api:"groupmemea_jobfeedapi_key",sc:"a1d19b3f3a21cdde1558794436300152",subsidiaryName:"Acceleration"},northAmerica:{api:"groupmnorthamerica_jobfeedapi_key",sc:"60497c5c1cfa4d58341ec4060be40b2f",subsidiaryName:"GroupM%20Nexus%20Acceleration"}},s=[];Object.values(r).forEach(a=>{s.push(`https://api.jobvite.com/api/v2/job?api=${a.api}&sc=${a.sc}&subsidiaryName=${a.subsidiaryName}`)});let n=s.map(a=>fetch(a));return Promise.all(n).then(a=>Promise.all(a.map(l=>l.json()))).then(a=>a.reduce((c,p)=>c.concat(p.requisitions),[]).filter(c=>c.distribution)).catch(a=>{console.error(a)})},e=(r,s)=>{let n=s.cloneNode(!0),a=n.querySelector('[data-job="title"]'),l=n.querySelector('[data-job="description"]'),h=n.querySelector('[data-job="country"]'),c=n.querySelector('[data-job="department"]'),p=n.querySelector('[data-job="apply"]');return a&&(a.textContent=r.title),l&&(l.textContent=r.briefDescription),h&&(h.textContent=r.location),c&&(c.textContent=r.category),p&&(p.href=r.detailLink),n},t=(r,s)=>{let n=new Set;for(let a of r)n.add(a[s]);return[...n]},i=(r,s)=>{let n=s.cloneNode(!0),a=n.querySelector("span"),l=n.querySelector("input");if(!(!a||!l))return a.textContent=r,l.value=r,n}};var k=(o,e)=>(Array.isArray(e)||(e=[e]),e.map(i=>o.dispatchEvent(new Event(i,{bubbles:!0}))).every(i=>i));var P=()=>{let o=[...document.querySelectorAll("[data-modal-button]")],e=[...document.querySelectorAll("[data-modal-trigger]")];[...document.querySelectorAll(".splide__arrows")].forEach(s=>{s.addEventListener("click",()=>{o=[...document.querySelectorAll("[data-modal-button]")],i()})});let i=()=>{o.forEach(s=>{s.removeEventListener("click",r),s.addEventListener("click",r)})},r=s=>{let a=s.currentTarget.dataset.modalButton,l=e.find(h=>h.dataset.modalTrigger===a);k(l,"click")};i()};var O=()=>{F(),P()};var N=()=>{Array.from(document.querySelectorAll('[data-filter="dropdown"]')).forEach(e=>{let t=e.querySelector('[data-filter-toggle="text"]'),i=e.querySelector('[data-filter-toggle="select"]'),r=e.querySelector('[data-filter-toggle="selected"]'),s=e.querySelector('[data-filter-toggle="additional"]'),n=[t,i,r,s];Array.from(e.querySelectorAll("input")).forEach(l=>{l.addEventListener("change",()=>{n.forEach(p=>{p&&(p.style.display="none")});let c=Array.from(e.querySelectorAll("input:checked")).map(p=>p.dataset.inputName).filter(Boolean);c.length===0?t&&(t.style.display="block"):c.length===1?r&&(r.textContent=c[0],r.style.display="inline"):c.length>1&&(r&&(r.textContent=`${c[0]}, `,r.style.display="inline"),s&&(s.textContent=`+${c.length-1}`,s.style.display="inline"))})})})};var $=()=>{let o=document.querySelector('[fs-cmsfilter-element="filters"]');if(!o)return;Array.from(o.querySelectorAll("input")).forEach(t=>{let i=t.dataset.inputName;if(!i)return;let r=i.toLowerCase().replace(/\s+/g,"-");t.name=i,t.id=r;let s=t.nextElementSibling;s&&s.setAttribute("for",t.id)})};var R=(o,e,t)=>{let i=new Date,r;switch(t){case"minutes":r=e*60*1e3;break;case"hours":r=e*60*60*1e3;break;case"days":r=e*24*60*60*1e3;break;case"months":r=e*30*24*60*60*1e3;break;case"years":r=e*365*24*60*60*1e3;break;default:throw new Error("Invalid time unit")}return i.getTime()-o.getTime()<=r};var J=o=>new Date(o);var W=()=>{let o="data-localise";E(`[${o}="resource"]`).filter(i=>{let r=y(`[${o}="resource-date"]`,i);if(!(r!=null&&r.textContent))return;let s=J(r.textContent);return!R(s,1,"years")}).forEach(i=>{i.removeAttribute("data-priority-in")})};var B=()=>{$(),N(),W()};var U=()=>{let o=0;v("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js",defer:!0,callback:i}),v("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js",defer:!0,callback:i});let e=document.querySelector('[data-sticky="vertical-center"]'),t=`${(window.innerHeight-e.offsetHeight)/2}px`;e.style.top=t;function i(){if(o+=1,o!==2)return;gsap.registerPlugin(ScrollTrigger);let r=document.querySelector(".capabilities_header"),s=[...document.querySelectorAll(".capabilities_list-item")],n=[...document.querySelectorAll(".capabilities_illustration")];gsap.matchMedia().add("(min-width: 768px)",()=>{s.forEach((l,h)=>{let c=gsap.timeline({scrollTrigger:{trigger:l,start:"top 50%",end:"bottom 50%",scrub:1}}),p=n.find(m=>m.classList.contains(`is-${h+1}`));c.to(p,{opacity:1,duration:1})})})}};var _=()=>{let{pathname:o}=window.location;switch(o){case"/about-us":j();break;case"/services":U();break;case"/resources":B();break;case"/careers":O();break}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{_(),V(),document.querySelector(".splide")&&w(),document.querySelector("[data-copy-url]")&&T()});})();
