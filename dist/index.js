"use strict";(()=>{var k=()=>{let e=window.location.href;[...document.querySelectorAll("[data-copy-url]")].forEach(o=>{o.addEventListener("click",()=>{navigator.clipboard.writeText(e)})})};var L=(e,s,o={})=>{let t=document.createElement(e);return Object.entries(o).forEach(([l,n])=>{if(l==="class"){t.classList.add(n);return}if(l==="dataset"){Object.entries(n).forEach(([r,a])=>{t.dataset[r]=a});return}if(l==="text"){t.textContent=n;return}if(l==="callback"){t.onload=n;return}t.setAttribute(l,n)}),s.appendChild(t),t};var H=()=>{L("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:e});function e(){[...document.querySelectorAll(".splide")].forEach(o=>{let t=new Splide(o,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2,gap:"2.5rem"},767:{perPage:1,gap:"2.5rem"}}});t.mount(),document.addEventListener("refreshSplide",()=>{t.refresh()})})}};var q=()=>{let e=document.querySelector('[data-localise="language"]');if(!e)return;[{code:Weglot.options.language_from,name:Weglot.getLanguageName(Weglot.options.language_from)},...Weglot.options.languages.map(o=>({code:o.language_to,name:Weglot.getLanguageName(o.language_to)}))].forEach(o=>{let t=document.createElement("option");t.value=o.code,t.text=o.name,e.appendChild(t)}),e.addEventListener("change",o=>{let t=o.target;Weglot.switchTo(t.value)}),Weglot.on("languageChanged",o=>{e.value=o})};var C=e=>{let o=new URLSearchParams(window.location.search).get("market"),t=o||sessionStorage.getItem("market");!t||!Array.from(e.options).some(n=>n.value===t)||(e.value=t,e.dispatchEvent(new Event("change")))};var g=(e,s=document)=>{let o=s.querySelectorAll(e);return o.length?[...o]:[]};var A=(e,s)=>{s.forEach(o=>{o.value=e,o.dispatchEvent(new Event("change"))}),window.scrollBy(0,1),window.scrollBy(0,-1)};var j=e=>{let s=new URL(window.location.href);s.searchParams.set("market",e),history.pushState({},"",s.toString()),sessionStorage.setItem("market",e)};var b=(e,s,o)=>document.createComment(`* placeholder * element to be ${s} in ${o}`);var m={showElementsMap:{},hideElementsMap:{},priorityElementsMap:{}};var D=(e,s,o)=>{o=Math.max(0,Math.min(o,e.children.length)),o===e.children.length?e.appendChild(s):(e.insertBefore(s,e.children[o]),[...e.childNodes].indexOf(s)!==o&&e.insertBefore(s,e.children[o]))};var x=(e,s)=>{s.forEach(o=>{var l;let{priorityIn:t}=o.dataset;if(t)if(t===e){let n=o.parentElement;if(!n)return;let r=(l=o.dataset.priorityOrder)!=null?l:"1",a=b(o,"prioritised",t),i=o.cloneNode(!0);o.replaceWith(a),D(n,o,Number(r)-1),m.priorityElementsMap[t]||(m.priorityElementsMap[t]=[]),m.priorityElementsMap[t].push({placeholder:a,element:o,clone:i})}else t!==e&&m.priorityElementsMap[t]&&(m.priorityElementsMap[t].forEach(({placeholder:n,element:r})=>n.replaceWith(r)),delete m.priorityElementsMap[t])}),document.dispatchEvent(new CustomEvent("refreshSplide"))};var P=e=>fetch(e).then(s=>s.text()).then(s=>new DOMParser().parseFromString(s,"text/html"));var I=(e,s)=>{let o=s.map(t=>t.dataset.targetFor);P(e.link).then(t=>{o.map(n=>{let r=t.querySelector(`[data-child-for="${n}"]`);return{parent:n,element:r}}).forEach(({parent:n,element:r})=>{let a=document.querySelector(`[data-target-for="${n}"]`);a&&r&&a.replaceChildren(r)})}).catch(t=>console.error(t))};var T=(e,s)=>{s.forEach(o=>{var l,n;let t=(n=(l=o.dataset.hideIn)==null?void 0:l.split(", "))!=null?n:[];t.length&&t.forEach(r=>{if(r!=="")if(r===e){let a=b(o,"hiden",r);o.replaceWith(a),m.hideElementsMap[r]||(m.hideElementsMap[r]=[]),m.hideElementsMap[r].push({placeholder:a,element:o})}else r!==e&&m.hideElementsMap[r]&&(m.hideElementsMap[r].forEach(({placeholder:a,element:i})=>a.replaceWith(i)),delete m.hideElementsMap[r])})})};var v=(e,s)=>{s.forEach(o=>{var l,n;let t=(n=(l=o.dataset.showIn)==null?void 0:l.split(", "))!=null?n:[];t.length&&t.forEach(r=>{if(r!=="Global"){if(r===e&&m.showElementsMap[e])m.showElementsMap[r].forEach(({placeholder:a,element:i})=>a.replaceWith(i)),delete m.showElementsMap[r];else if(r!==e){let a=b(o,"shown",r);o.replaceWith(a),m.showElementsMap[r]||(m.showElementsMap[r]=[]),m.showElementsMap[r].push({placeholder:a,element:o})}}})})};var N=()=>{let e=document.querySelector('[data-localise="market-select"]'),s=document.querySelector('[data-localise="market-list"]'),o=document.querySelector('[data-localise="selector-language"]'),t=g('[data-localise="selector-icon"]');if(!e||!s||!o||!t.length)return;let l=g('[data-localise="market-link"]',s),n=g('[data-localise="market-icon"]',s),r=l.filter(E=>!!E.textContent).map((E,y)=>({id:E.textContent,link:E.href,icon:n[y]})),a=g("[data-target-for]"),i=g("[data-show-in]"),d=g("[data-hide-in]"),p=g("[data-priority-in]"),h=g('[data-localise="linked-select"]'),c={targetElements:a,showInElements:i,priorityInElements:p,hideInElements:d,linkedSelects:h};e.addEventListener("marketSelectReady",()=>{e.addEventListener("change",y=>{let{value:S}=y.target,f=r.find(M=>M.id===S);f&&(j(f.id),I(f,c.targetElements),v(f.id,c.showInElements),T(f.id,c.hideInElements),x(f.id,c.priorityInElements),A(f.id,c.linkedSelects),t.forEach(M=>{M.src=f.icon.src,M.alt=f.icon.alt}))}),C(e),e.value===r[0].id&&(v(e.value,c.showInElements),T(e.value,c.hideInElements),x(e.value,c.priorityInElements))});let u=r.length;if(e.options.length===u){let E=new Event("marketSelectReady");e.dispatchEvent(E)}else new MutationObserver((y,S)=>{if(e.options.length===r.length){S.disconnect();let f=new Event("marketSelectReady");e.dispatchEvent(f)}}).observe(e,{childList:!0})};var F=()=>{N(),q()};var W=()=>{document.querySelectorAll("select").forEach(n=>{let{mirrorValue:r}=n.dataset;if(!r)return;let a=document.querySelector(`[data-mirror-target="${r}"]`);n.addEventListener("change",i=>{var p;let{value:d}=i.target;d===""&&(d=(p=i.target.dataset.mirrorDefault)!=null?p:""),a.textContent=d,setTimeout(()=>{window.scrollBy(0,1),window.scrollBy(0,-1)},200)})});let s=document.querySelector('select[name="Leadership"]'),o=document.querySelectorAll('.w-dyn-item [fs-cmsfilter-field="market"]'),t=[];o.forEach(n=>{n.textContent&&t.push(n.textContent)}),new Set(t.sort()).forEach(n=>{let r=new Option(n,n);s&&s.add(r)}),L("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmsfilter@1/cmsfilter.js",async:!0})};var R=()=>{window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async l=>{let[n]=l,{listInstance:r}=n,[a]=r.items,i=a.element,d=await e();r.clearItems();let p=d.map(c=>s(c,i));await r.addItems(p);let h=n.form.querySelectorAll('[data-element="filter-list"]');for(let c of h){let u=c.querySelector('[data-element="filter"]');if(!u)return;let E=u.parentElement;if(!E)return;u.remove();let{property:y}=c.dataset;if(!y)return;let S=o(d,y);for(let f of S){let M=t(f,u);M&&E.append(M)}}n.storeFiltersData()}]);let e=async()=>{let l={emea:{api:"groupmemea_jobfeedapi_key",sc:"a1d19b3f3a21cdde1558794436300152",subsidiaryName:"Acceleration"},northAmerica:{api:"groupmnorthamerica_jobfeedapi_key",sc:"60497c5c1cfa4d58341ec4060be40b2f",subsidiaryName:"GroupM%20Nexus%20Acceleration"}},n=[];Object.values(l).forEach(a=>{n.push(`https://api.jobvite.com/api/v2/job?api=${a.api}&sc=${a.sc}&subsidiaryName=${a.subsidiaryName}`)});let r=n.map(a=>fetch(a));return Promise.all(r).then(a=>Promise.all(a.map(i=>i.json()))).then(a=>a.reduce((d,p)=>d.concat(p.requisitions),[])).catch(a=>{console.error(a)})},s=(l,n)=>{let r=n.cloneNode(!0),a=r.querySelector('[data-job="title"]'),i=r.querySelector('[data-job="description"]'),d=r.querySelector('[data-job="country"]'),p=r.querySelector('[data-job="department"]'),h=r.querySelector('[data-job="apply"]');return a&&(a.textContent=l.title),i&&(i.textContent=l.briefDescription),d&&(d.textContent=l.location),p&&(p.textContent=l.category),h&&(h.href=l.detailLink),r},o=(l,n)=>{let r=new Set;for(let a of l)r.add(a[n]);return[...r]},t=(l,n)=>{let r=n.cloneNode(!0),a=r.querySelector("span"),i=r.querySelector("input");if(!(!a||!i))return a.textContent=l,i.value=l,r}};var w=(e,s)=>(Array.isArray(s)||(s=[s]),s.map(t=>e.dispatchEvent(new Event(t,{bubbles:!0}))).every(t=>t));var B=()=>{let e=[...document.querySelectorAll("[data-modal-button]")],s=[...document.querySelectorAll("[data-modal-trigger]")];[...document.querySelectorAll(".splide__arrows")].forEach(n=>{n.addEventListener("click",()=>{e=[...document.querySelectorAll("[data-modal-button]")],t()})});let t=()=>{e.forEach(n=>{n.removeEventListener("click",l),n.addEventListener("click",l)})},l=n=>{let a=n.currentTarget.dataset.modalButton,i=s.find(d=>d.dataset.modalTrigger===a);w(i,"click")};t()};var O=()=>{R(),B()};var _=()=>{let e=document.querySelector('[fs-cmsfilter-element="filters"]');if(!e)return;Array.from(e.querySelectorAll("input")).forEach(t=>{let l=t.dataset.inputName;if(!l)return;let n=l.toLowerCase().replace(/\s+/g,"-");t.name=l,t.id=n;let r=t.nextElementSibling;r&&r.setAttribute("for",t.id)}),Array.from(document.querySelectorAll('[data-filter="dropdown"]')).forEach(t=>{let l=t.querySelector('[data-filter-toggle="text"]'),n=t.querySelector('[data-filter-toggle="select"]'),r=t.querySelector('[data-filter-toggle="selected"]'),a=t.querySelector('[data-filter-toggle="additional"]'),i=[l,n,r,a];Array.from(t.querySelectorAll("input")).forEach(p=>{p.addEventListener("change",()=>{i.forEach(u=>{u&&(u.style.display="none")});let c=Array.from(t.querySelectorAll("input:checked")).map(u=>u.dataset.inputName).filter(Boolean);c.length===0?l&&(l.style.display="block"):c.length===1?r&&(r.textContent=c[0],r.style.display="inline"):c.length>1&&(r&&(r.textContent=`${c[0]}, `,r.style.display="inline"),a&&(a.textContent=`+${c.length-1}`,a.style.display="inline"))})})})};var $=()=>{let e=0;L("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js",defer:!0,callback:t}),L("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js",defer:!0,callback:t});let s=document.querySelector('[data-sticky="vertical-center"]'),o=`${(window.innerHeight-s.offsetHeight)/2}px`;s.style.top=o;function t(){if(e+=1,e!==2)return;gsap.registerPlugin(ScrollTrigger);let l=document.querySelector(".capabilities_header"),n=[...document.querySelectorAll(".capabilities_list-item")],r=[...document.querySelectorAll(".capabilities_illustration")];gsap.matchMedia().add("(min-width: 768px)",()=>{n.forEach((i,d)=>{let p=gsap.timeline({scrollTrigger:{trigger:i,start:"top 50%",end:"bottom 50%",scrub:1}}),h=r.find(c=>c.classList.contains(`is-${d+1}`));p.to(h,{opacity:1,duration:1})})})}};var J=()=>{let{pathname:e}=window.location;switch(e){case"/about-us":W();break;case"/services":$();break;case"/resources":_();break;case"/careers":O();break}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{F(),J(),document.querySelector(".splide")&&H(),document.querySelector("[data-copy-url]")&&k()});})();
