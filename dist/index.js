"use strict";(()=>{var F=()=>{let t=window.location.href;[...document.querySelectorAll("[data-copy-url]")].forEach(o=>{o.addEventListener("click",()=>{navigator.clipboard.writeText(t)})})};var w=(t,e,o={})=>{let i=document.createElement(t);return Object.entries(o).forEach(([r,n])=>{if(r==="class"){i.classList.add(n);return}if(r==="dataset"){Object.entries(n).forEach(([s,a])=>{i.dataset[s]=a});return}if(r==="text"){i.textContent=n;return}if(r==="callback"){i.onload=n;return}i.setAttribute(r,n)}),e.appendChild(i),i};var O=()=>{w("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:t});function t(){[...document.querySelectorAll(".splide")].forEach(o=>{let i=new Splide(o,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2,gap:"2.5rem"},767:{perPage:1,gap:"2.5rem"}}});i.mount(),document.addEventListener("refreshSplide",()=>{i.refresh()})})}};var E=(t,e=document)=>{let o=e.querySelector(t);return o!=null?o:void 0};var u=(t,e=document)=>{let o=e.querySelectorAll(t);return o.length?[...o]:[]};var S=()=>document.createComment("* placeholder * for element");var T=class{constructor(e,o){this.code=e,this.name=o,this.option=document.createElement("option"),this.option.value=e,this.option.text=o,this.isVisible=!0,this.placeholder=S()}appendTo(e){e.add(this.option)}disable(){if(!this.isVisible||(this.option.replaceWith(this.placeholder),this.isVisible=!1,!this.option.selected))return;let e=this.placeholder.parentElement,o=e.querySelector("option");e.value=o.value,e.dispatchEvent(new Event("change")),this.option.selected=!1}enable(){this.isVisible||(this.placeholder.replaceWith(this.option),this.isVisible=!0)}updateVisibilityForMarket(e){var o;(o=e.langCodes)!=null&&o.includes(this.code)?this.enable():this.disable()}};var V=t=>fetch(t).then(e=>e.text()).then(e=>new DOMParser().parseFromString(e,"text/html"));var W=(t,e,o)=>{o=Math.max(0,Math.min(o,t.children.length)),o===t.children.length?t.appendChild(e):(t.insertBefore(e,t.children[o]),[...t.childNodes].indexOf(e)!==o&&t.insertBefore(e,t.children[o]))};var k=class{constructor(e){this.element=e;let{targetFor:o}=this.element.dataset;this.targetFor=o?o.split(", "):[];let{showIn:i}=this.element.dataset;this.showIn=i?i.split(", "):[];let{hideIn:r}=this.element.dataset;this.hideIn=r?r.split(", "):[];let{priorityIn:n}=this.element.dataset;this.priorityIn=n!=null?n:null;let s=this.element.getAttribute("data-priority-order");this.priorityOrder=s?Number(s):null,this.isVisible=!0,this.placeholder=S(),this.clone=this.element.cloneNode(!0)}showElement(){this.placeholder.replaceWith(this.element),this.isVisible=!0}hideElement(){this.element.replaceWith(this.placeholder),this.isVisible=!1}targetForMarket(e){V(e.link).then(o=>{this.targetFor.map(r=>{let n=o.querySelector(`[data-child-for="${r}"]`);return{parent:r,element:n}}).forEach(({parent:r,element:n})=>{let s=document.querySelector(`[data-target-for="${r}"]`);s&&n&&s.replaceChildren(n)})}).catch(o=>console.error(o))}showInMarket(e){if(this.showIn.includes("Global"))return;let o=this.showIn.includes(e);o&&!this.isVisible?this.showElement():!o&&this.isVisible&&this.hideElement()}hideInMarket(e){let o=this.hideIn.includes(e);o&&this.isVisible?this.hideElement():!o&&!this.isVisible&&this.showElement()}prioritiseInMarket(e){if(this.priorityIn===e){let{parentElement:i}=this.element;if(!i)return;this.clone=this.element.cloneNode(!0),this.element.replaceWith(this.placeholder),this.priorityOrder?W(i,this.clone,this.priorityOrder-1):i.prepend(this.clone)}else this.clone.remove(),this.placeholder.replaceWith(this.element);document.dispatchEvent(new CustomEvent("refreshSplide"))}updateVisibilityForMarket(e){this.targetFor.length>0&&this.targetForMarket(e),this.showIn.length>0&&this.showInMarket(e.id),this.hideIn.length>0&&this.hideInMarket(e.id),this.priorityIn&&this.prioritiseInMarket(e.id)}};var C=(t,e,o)=>{e.forEach(i=>{i.updateVisibilityForMarket(t)}),t.langCodes.length<=1?(o.style.opacity="0.3",o.style.pointerEvents="none"):(o.style.removeProperty("opacity"),o.style.removeProperty("pointer-events"))};var N=t=>{let e=new URL(window.location.href);e.searchParams.set("market",t),history.pushState({},"",e.toString()),sessionStorage.setItem("market",t)};var q=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(i=>t.dispatchEvent(new Event(i,{bubbles:!0}))).every(i=>i));var A=(t=document)=>t.documentElement.getAttribute("data-wf-site");var D=async t=>{var o,i;let{Webflow:e}=window;if(!(!e||!("destroy"in e)||!("ready"in e)||!("require"in e))&&!(t&&!t.length)){if(t||(e.destroy(),e.ready()),!t||t.includes("ix2")){let r=e.require("ix2");if(r){let{store:n,actions:s}=r,{eventState:a}=n.getState().ixSession,m=Object.entries(a);t||r.destroy(),r.init(),await Promise.all(m.map(p=>n.dispatch(s.eventStateChanged(...p))))}}if(!t||t.includes("commerce")){let r=e.require("commerce"),n=A();r&&n&&(r.destroy(),r.init({siteId:n,apiUrl:"https://render.webflow.com"}))}if(t!=null&&t.includes("lightbox")&&((o=e.require("lightbox"))==null||o.ready()),t!=null&&t.includes("slider")){let r=e.require("slider");r&&(r.redraw(),r.ready())}return t!=null&&t.includes("tabs")&&((i=e.require("tabs"))==null||i.redraw()),new Promise(r=>e.push(()=>r(void 0)))}};var $=()=>{window.scrollBy(0,100),window.scrollBy(0,-100)};var P=(t,e)=>{e.forEach(o=>o.updateVisibilityForMarket(t)),D(),$()};var _=(t,e)=>{e.forEach(o=>{o.textContent=t})};var R=t=>{let o=new URLSearchParams(window.location.search).get("market"),i=o||sessionStorage.getItem("market");!i||!Array.from(t.options).some(n=>n.value===i)||(t.value=i,t.dispatchEvent(new Event("change")))};var B=()=>{var L;let t="data-localise",e=u(`[${t}="switcher-lang"]`),o=u(`[${t}="switcher-icon"]`),i=E(`[${t}="market-wrapper"]`),r=E(`[${t}="market-select"]`,i),n=E(`[${t}="market-list"]`),s=E(`[${t}="lang-wrapper"]`),a=E(`[${t}="lang-select"]`,s);if(!e.length||!o.length||!r||!n||!s||!a)return;let m=u('[data-localise="market-link"]',n),p=u('[data-localise="market-icon"]',n),c=m.map((l,f)=>{var x,h,v,j;return{id:(x=l.textContent)!=null?x:"",link:l.href,langCodes:(j=(v=(h=l.dataset)==null?void 0:h.langCodes)==null?void 0:v.split(", "))!=null?j:[],icon:p[f]}}),d=c.filter(l=>l.langCodes.length>1).map(l=>l.id).join(", ");e.forEach(l=>{l.dataset.showIn=d});let g=[{code:Weglot.options.language_from,name:Weglot.getLanguageName(Weglot.options.language_from)},...Weglot.options.languages.map(l=>({code:l.language_to,name:Weglot.getLanguageName(l.language_to)}))].map(({code:l,name:f})=>new T(l,f));g.forEach(l=>{l.appendTo(a)});let b=(L=sessionStorage.getItem("langCode"))!=null?L:c[0].langCodes[0];sessionStorage.setItem("langCode",b),a.value=b,Weglot.switchTo(b);let M=u("[data-target-for], [data-show-in], [data-hide-in], [data-priority-in]").map(l=>new k(l)).reverse(),H=u('[data-localise="mirror-market"]');r.addEventListener("marketSelectReady",()=>{r.addEventListener("change",f=>{let{value:x}=f.target,h=c.find(v=>v.id===x);h&&(N(h.id),C(h,g,s),P(h,M),_(h.id,H),o.forEach(v=>{v.textContent=h.icon.textContent}))}),R(r);let l=c.find(f=>f.id===r.value);l===c[0]&&(C(l,g,s),P(l,M))}),a.addEventListener("change",l=>{let{value:f}=l.target;sessionStorage.setItem("langCode",f),Weglot.switchTo(f)});let I=c.length;if(r.options.length===I){let l=new Event("marketSelectReady");r.dispatchEvent(l)}else new MutationObserver((f,x)=>{if(r.options.length===c.length){x.disconnect();let h=new Event("marketSelectReady");r.dispatchEvent(h)}}).observe(r,{childList:!0})};var J=()=>{};var U=()=>{window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async r=>{let[n]=r,{listInstance:s}=n,[a]=s.items,m=a.element,p=await t();s.clearItems();let c=p.map(y=>e(y,m));await s.addItems(c);let d=n.form.querySelectorAll('[data-element="filter-list"]');for(let y of d){let g=y.querySelector('[data-element="filter"]');if(!g)return;let b=g.parentElement;if(!b)return;g.remove();let{property:M}=y.dataset;if(!M)return;let H=o(p,M);for(let I of H){let L=i(I,g);L&&b.append(L)}}n.storeFiltersData()}]);let t=async()=>{let r={emea:{api:"groupmemea_jobfeedapi_key",sc:"a1d19b3f3a21cdde1558794436300152",subsidiaryName:"Acceleration"},northAmerica:{api:"groupmnorthamerica_jobfeedapi_key",sc:"60497c5c1cfa4d58341ec4060be40b2f",subsidiaryName:"GroupM%20Nexus%20Acceleration"}},n=[];Object.values(r).forEach(a=>{n.push(`https://api.jobvite.com/api/v2/job?api=${a.api}&sc=${a.sc}&subsidiaryName=${a.subsidiaryName}`)});let s=n.map(a=>fetch(a));return Promise.all(s).then(a=>Promise.all(a.map(m=>m.json()))).then(a=>a.reduce((c,d)=>c.concat(d.requisitions),[]).filter(c=>c.distribution)).catch(a=>{console.error(a)})},e=(r,n)=>{let s=n.cloneNode(!0),a=s.querySelector('[data-job="title"]'),m=s.querySelector('[data-job="description"]'),p=s.querySelector('[data-job="country"]'),c=s.querySelector('[data-job="department"]'),d=s.querySelector('[data-job="apply"]');return a&&(a.textContent=r.title),m&&(m.textContent=r.briefDescription),p&&(p.textContent=r.location),c&&(c.textContent=r.category),d&&(d.href=r.detailLink),s},o=(r,n)=>{let s=new Set;for(let a of r)s.add(a[n]);return[...s]},i=(r,n)=>{let s=n.cloneNode(!0),a=s.querySelector("span"),m=s.querySelector("input");if(!(!a||!m))return a.textContent=r,m.value=r,s}};var K=()=>{let t=[...document.querySelectorAll("[data-modal-button]")],e=[...document.querySelectorAll("[data-modal-trigger]")];[...document.querySelectorAll(".splide__arrows")].forEach(n=>{n.addEventListener("click",()=>{t=[...document.querySelectorAll("[data-modal-button]")],i()})});let i=()=>{t.forEach(n=>{n.removeEventListener("click",r),n.addEventListener("click",r)})},r=n=>{let a=n.currentTarget.dataset.modalButton,m=e.find(p=>p.dataset.modalTrigger===a);q(m,"click")};i()};var G=()=>{U(),K()};var X=()=>{Array.from(document.querySelectorAll('[data-filter="dropdown"]')).forEach(e=>{let o=e.querySelector('[data-filter-toggle="text"]'),i=e.querySelector('[data-filter-toggle="select"]'),r=e.querySelector('[data-filter-toggle="selected"]'),n=e.querySelector('[data-filter-toggle="additional"]'),s=[o,i,r,n];Array.from(e.querySelectorAll("input")).forEach(m=>{m.addEventListener("change",()=>{s.forEach(d=>{d&&(d.style.display="none")});let c=Array.from(e.querySelectorAll("input:checked")).map(d=>d.dataset.inputName).filter(Boolean);c.length===0?o&&(o.style.display="block"):c.length===1?r&&(r.textContent=c[0],r.style.display="inline"):c.length>1&&(r&&(r.textContent=`${c[0]}, `,r.style.display="inline"),n&&(n.textContent=`+${c.length-1}`,n.style.display="inline"))})})})};var Y=()=>{let t=document.querySelector('[fs-cmsfilter-element="filters"]');if(!t)return;Array.from(t.querySelectorAll("input")).forEach(o=>{let i=o.dataset.inputName;if(!i)return;let r=i.toLowerCase().replace(/\s+/g,"-");o.name=i,o.id=r;let n=o.nextElementSibling;n&&n.setAttribute("for",o.id)})};var z=(t,e,o)=>{let i=new Date,r;switch(o){case"minutes":r=e*60*1e3;break;case"hours":r=e*60*60*1e3;break;case"days":r=e*24*60*60*1e3;break;case"months":r=e*30*24*60*60*1e3;break;case"years":r=e*365*24*60*60*1e3;break;default:throw new Error("Invalid time unit")}return i.getTime()-t.getTime()<=r};var Q=t=>new Date(t);var Z=()=>{let t="data-localise",o=u(`[${t}="resource"]`).filter(r=>{let n=E(`[${t}="resource-date"]`,r);if(!(n!=null&&n.textContent))return;let s=Q(n.textContent);return z(s,1,"years")}),i=new Map;o.forEach(r=>{var s;let n=r.dataset.priorityIn;n&&(i.has(n)||i.set(n,[]),(s=i.get(n))==null||s.push(r))});for(let r of i.values())r.forEach((n,s)=>{n.dataset.priorityOrder=`${s+1}`})};var ee=()=>{Y(),X(),Z()};var te=()=>{let t=0;w("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js",defer:!0,callback:i}),w("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js",defer:!0,callback:i});let e=document.querySelector('[data-sticky="vertical-center"]'),o=`${(window.innerHeight-e.offsetHeight)/2}px`;e.style.top=o;function i(){if(t+=1,t!==2)return;gsap.registerPlugin(ScrollTrigger);let r=document.querySelector(".capabilities_header"),n=[...document.querySelectorAll(".capabilities_list-item")],s=[...document.querySelectorAll(".capabilities_illustration")];gsap.matchMedia().add("(min-width: 768px)",()=>{n.forEach((m,p)=>{let c=gsap.timeline({scrollTrigger:{trigger:m,start:"top 50%",end:"bottom 50%",scrub:1}}),d=s.find(y=>y.classList.contains(`is-${p+1}`));c.to(d,{opacity:1,duration:1})})})}};var re=()=>{let{pathname:t}=window.location;switch(t){case"/about-us":J();break;case"/services":te();break;case"/resources":ee();break;case"/careers":G();break}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{re(),B(),document.querySelector(".splide")&&O(),document.querySelector("[data-copy-url]")&&F()});})();
