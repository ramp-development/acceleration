"use strict";(()=>{var S=()=>{let n=window.location.href;[...document.querySelectorAll("[data-copy-url]")].forEach(i=>{i.addEventListener("click",()=>{navigator.clipboard.writeText(n)})})};var g=(n,c,i={})=>{let e=document.createElement(n);return Object.entries(i).forEach(([s,t])=>{if(s==="class"){e.classList.add(t);return}if(s==="dataset"){Object.entries(t).forEach(([o,r])=>{e.dataset[o]=r});return}if(s==="text"){e.textContent=t;return}if(s==="callback"){e.onload=t;return}e.setAttribute(s,t)}),c.appendChild(e),e};var h=()=>{g("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:n});function n(){[...document.querySelectorAll(".splide")].forEach(i=>{new Splide(i,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2,gap:"2.5rem"},767:{perPage:1,gap:"2.5rem"}}}).mount()})}};var E=()=>{console.log("about"),document.querySelectorAll("select").forEach(t=>{let{mirrorValue:o}=t.dataset,r=null;o&&(r=document.querySelector(`[data-mirror-target="${o}"]`)),t.addEventListener("change",l=>{var m;if(r){let{value:a}=l.target;a===""&&(a=(m=l.target.dataset.mirrorDefault)!=null?m:""),r.textContent=a}setTimeout(()=>{window.scrollBy(0,1),window.scrollBy(0,-1)},200)})});let c=document.querySelector('select[name="Leadership"]'),i=document.querySelectorAll('.w-dyn-item [fs-cmsfilter-field="market"]'),e=[];i.forEach(t=>{t.textContent&&e.push(t.textContent)}),new Set(e.sort()).forEach(t=>{let o=new Option(t,t);c&&c.add(o)})};var L=()=>{console.log("jobs"),window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async s=>{let[t]=s,{listInstance:o}=t,[r]=o.items,l=r.element,m=await n();o.clearItems();let a=m.map(u=>c(u,l));await o.addItems(a);let p=t.form.querySelectorAll('[data-element="filter-list"]');for(let u of p){let d=u.querySelector('[data-element="filter"]');if(!d)return;let f=d.parentElement;if(!f)return;d.remove();let{property:b}=u.dataset;if(!b)return;let A=i(m,b);for(let C of A){let x=e(C,d);x&&f.append(x)}}t.storeFiltersData()}]);let n=async()=>{let s={emea:{api:"groupmemea_jobfeedapi_key",sc:"a1d19b3f3a21cdde1558794436300152",subsidiaryName:"Acceleration"},northAmerica:{api:"groupmnorthamerica_jobfeedapi_key",sc:"60497c5c1cfa4d58341ec4060be40b2f",subsidiaryName:"GroupM%20Nexus%20Acceleration"}},t=[];Object.values(s).forEach(r=>{t.push(`https://api.jobvite.com/api/v2/job?api=${r.api}&sc=${r.sc}&subsidiaryName=${r.subsidiaryName}`)});let o=t.map(r=>fetch(r));return Promise.all(o).then(r=>Promise.all(r.map(l=>l.json()))).then(r=>r.reduce((m,a)=>m.concat(a.requisitions),[])).catch(r=>{console.error(r)})},c=(s,t)=>{let o=t.cloneNode(!0),r=o.querySelector('[data-job="title"]'),l=o.querySelector('[data-job="description"]'),m=o.querySelector('[data-job="country"]'),a=o.querySelector('[data-job="department"]'),p=o.querySelector('[data-job="apply"]');return r&&(r.textContent=s.title),l&&(l.textContent=s.briefDescription),m&&(m.textContent=s.location),a&&(a.textContent=s.category),p&&(p.href=s.detailLink),o},i=(s,t)=>{let o=new Set;for(let r of s)o.add(r[t]);return[...o]},e=(s,t)=>{let o=t.cloneNode(!0),r=o.querySelector("span"),l=o.querySelector("input");if(!(!r||!l))return r.textContent=s,l.value=s,o}};var y=(n,c)=>(Array.isArray(c)||(c=[c]),c.map(e=>n.dispatchEvent(new Event(e,{bubbles:!0}))).every(e=>e));var w=()=>{console.log("modals");let n=[...document.querySelectorAll("[data-modal-button]")],c=[...document.querySelectorAll("[data-modal-trigger]")];n.forEach(i=>{i.addEventListener("click",()=>{let e=i.dataset.modalButton,s=c.find(t=>t.dataset.modalTrigger===e);y(s,"click")})})};var T=()=>{L(),w()};var q=()=>{console.log("resources");let n=document.querySelector('[fs-cmsfilter-element="filters"]');[...n==null?void 0:n.querySelectorAll("input")].forEach(e=>{let s=e.dataset.inputName,t=s.toLowerCase().replace(/\s+/g,"-");e.name=s,e.id=t,e.nextElementSibling.setAttribute("for",e.id)}),[...document.querySelectorAll('[data-filter="dropdown"]')].forEach(e=>{let s=e.querySelector('[data-filter-toggle="text"]'),t=e.querySelector('[data-filter-toggle="select"]'),o=e.querySelector('[data-filter-toggle="selected"]'),r=e.querySelector('[data-filter-toggle="additional"]'),l=[s,t,o,r];[...e.querySelectorAll("input")].forEach(a=>{a.addEventListener("change",p=>{l.forEach(f=>f.style.display="none");let d=[...e.querySelectorAll("input:checked")].map(f=>f.dataset.inputName);console.log(d),d.length===0?s.style.display="block":d.length===1?(o.textContent=d[0],o.style.display="inline"):d.length>1&&(o.textContent=`${d[0]},\xA0`,o.style.display="inline",r.textContent=`+${d.length-1}`,r.style.display="inline")})})})};var j=()=>{let n=0;g("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js",defer:!0,callback:e}),g("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js",defer:!0,callback:e});let c=document.querySelector('[data-sticky="vertical-center"]'),i=`${(window.innerHeight-c.offsetHeight)/2}px`;c.style.top=i;function e(){if(n+=1,n!==2)return;gsap.registerPlugin(ScrollTrigger);let s=document.querySelector(".capabilities_header"),t=[...document.querySelectorAll(".capabilities_list-item")],o=[...document.querySelectorAll(".capabilities_illustration")];gsap.matchMedia().add("(min-width: 768px)",()=>{t.forEach((l,m)=>{let a=gsap.timeline({scrollTrigger:{trigger:l,start:"top 50%",end:"bottom 50%",scrub:1}}),p=o.find(u=>u.classList.contains(`is-${m+1}`));a.to(p,{opacity:1,duration:1})})})}};var v=()=>{let{pathname:n}=window.location;switch(n){case"/about-us":E();break;case"/services":j();break;case"/resources":q();break;case"/careers":T();break}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{console.log("index"),v(),document.querySelector(".splide")&&h(),document.querySelector("[data-copy-url]")&&S()});})();
