"use strict";(()=>{var H=()=>{let t=window.location.href;[...document.querySelectorAll("[data-copy-url]")].forEach(i=>{i.addEventListener("click",()=>{navigator.clipboard.writeText(t)})})};var x=(t,r,i={})=>{let n=document.createElement(t);return Object.entries(i).forEach(([e,o])=>{if(e==="class"){n.classList.add(o);return}if(e==="dataset"){Object.entries(o).forEach(([s,a])=>{n.dataset[s]=a});return}if(e==="text"){n.textContent=o;return}if(e==="callback"){n.onload=o;return}n.setAttribute(e,o)}),r.appendChild(n),n};var I=()=>{x("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:t});function t(){[...document.querySelectorAll(".splide")].forEach(i=>{let n=new Splide(i,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2,gap:"2.5rem"},767:{perPage:1,gap:"2.5rem"}}});n.mount(),document.addEventListener("refreshSplide",()=>{n.refresh()})})}};var b=(t,r=document)=>{let i=r.querySelector(t);return i!=null?i:void 0};var E=(t,r=document)=>{let i=r.querySelectorAll(t);return i.length?[...i]:[]};var v=()=>document.createComment("* placeholder * for element");var q=t=>fetch(t).then(r=>r.text()).then(r=>new DOMParser().parseFromString(r,"text/html"));var C=(t,r,i)=>{i=Math.max(0,Math.min(i,t.children.length)),i===t.children.length?t.appendChild(r):(t.insertBefore(r,t.children[i]),[...t.childNodes].indexOf(r)!==i&&t.insertBefore(r,t.children[i]))};var M=class{constructor(r){this.element=r;let{targetFor:i}=this.element.dataset;this.targetFor=i?i.split(", "):[];let{showIn:n}=this.element.dataset;this.showIn=n?n.split(", "):[];let{hideIn:e}=this.element.dataset;this.hideIn=e?e.split(", "):[];let{priorityIn:o}=this.element.dataset;this.priorityIn=o!=null?o:null;let s=this.element.getAttribute("data-priority-order");this.priorityOrder=s?Number(s):null,this.isVisible=!0,this.placeholder=v(),this.clone=this.element.cloneNode(!0)}showElement(){this.placeholder.replaceWith(this.element),this.isVisible=!0}hideElement(){this.element.replaceWith(this.placeholder),this.isVisible=!1}targetForMarket(r){q(r.link).then(i=>{this.targetFor.map(e=>{let o=i.querySelector(`[data-child-for="${e}"]`);return{parent:e,element:o}}).forEach(({parent:e,element:o})=>{let s=document.querySelector(`[data-target-for="${e}"]`);s&&o&&s.replaceChildren(o)})}).catch(i=>console.error(i))}showInMarket(r){if(this.showIn.includes("Global")&&!this.element.dataset.override)return;let i=this.showIn.includes(r);i&&!this.isVisible?this.showElement():!i&&this.isVisible&&this.hideElement()}hideInMarket(r){let i=this.hideIn.includes(r);i&&this.isVisible?this.hideElement():!i&&!this.isVisible&&this.showElement()}prioritiseInMarket(r){if(this.priorityIn===r){let{parentElement:n}=this.element;if(!n)return;this.clone=this.element.cloneNode(!0),this.element.replaceWith(this.placeholder),this.priorityOrder?C(n,this.clone,this.priorityOrder-1):n.prepend(this.clone)}else this.clone.remove(),this.placeholder.replaceWith(this.element);document.dispatchEvent(new CustomEvent("refreshSplide"))}updateVisibilityForMarket(r){this.targetFor.length>0&&this.targetForMarket(r),this.showIn.length>0&&this.showInMarket(r.id),this.hideIn.length>0&&this.hideInMarket(r.id),this.priorityIn&&this.prioritiseInMarket(r.id)}};var A=t=>{let r=new URL(window.location.href);r.searchParams.set("market",t),history.pushState({},"",r.toString()),sessionStorage.setItem("market",t)};var L=(t,r)=>(Array.isArray(r)||(r=[r]),r.map(n=>t.dispatchEvent(new Event(n,{bubbles:!0}))).every(n=>n));var w=(t=document)=>t.documentElement.getAttribute("data-wf-site");var S=async t=>{var i,n;let{Webflow:r}=window;if(!(!r||!("destroy"in r)||!("ready"in r)||!("require"in r))&&!(t&&!t.length)){if(t||(r.destroy(),r.ready()),!t||t.includes("ix2")){let e=r.require("ix2");if(e){let{store:o,actions:s}=e,{eventState:a}=o.getState().ixSession,l=Object.entries(a);t||e.destroy(),e.init(),await Promise.all(l.map(p=>o.dispatch(s.eventStateChanged(...p))))}}if(!t||t.includes("commerce")){let e=r.require("commerce"),o=w();e&&o&&(e.destroy(),e.init({siteId:o,apiUrl:"https://render.webflow.com"}))}if(t!=null&&t.includes("lightbox")&&((i=r.require("lightbox"))==null||i.ready()),t!=null&&t.includes("slider")){let e=r.require("slider");e&&(e.redraw(),e.ready())}return t!=null&&t.includes("tabs")&&((n=r.require("tabs"))==null||n.redraw()),new Promise(e=>r.push(()=>e(void 0)))}};var D=()=>{window.scrollBy(0,100),window.scrollBy(0,-100)};var k=(t,r)=>{r.forEach(i=>i.updateVisibilityForMarket(t)),S(),D()};var P=(t,r)=>{r.forEach(i=>{i.textContent=t})};var j=t=>{let i=new URLSearchParams(window.location.search).get("market"),n=i||sessionStorage.getItem("market");!n||!Array.from(t.options).some(o=>o.value===n)||(t.value=n,t.dispatchEvent(new Event("change")))};var F=()=>{let t="data-localise",r=E(`[${t}="switcher-icon"]`),i=E(`[${t}="switcher-market"]`),n=b(`[${t}="market-wrapper"]`),e=b(`[${t}="market-select"]`,n),o=b(`[${t}="market-list"]`);if(!e||!o)return;let s=E('[data-localise="market-link"]',o),a=E('[data-localise="market-icon"]',o),l=s.map((m,h)=>{var u,f,g,y;return{id:(u=m.textContent)!=null?u:"",link:m.href,langCodes:(y=(g=(f=m.dataset)==null?void 0:f.langCodes)==null?void 0:g.split(", "))!=null?y:[],icon:a[h]}}),p=E("[data-target-for], [data-show-in], [data-hide-in], [data-priority-in]").map(m=>new M(m)).reverse(),c=E('[data-localise="mirror-market"]');e.addEventListener("marketSelectReady",()=>{e.addEventListener("change",h=>{let{value:u}=h.target,f=l.find(g=>g.id===u);f&&(A(f.id),k(f,p),P(f.id,c),r.forEach((g,y)=>{g.src=f.icon.src,g.alt=f.icon.alt,i[y].textContent=f.id}))}),j(e);let m=l.find(h=>h.id===e.value);m===l[0]&&k(m,p)});let d=l.length;if(e.options.length===d){let m=new Event("marketSelectReady");e.dispatchEvent(m)}else new MutationObserver((h,u)=>{if(e.options.length===l.length){u.disconnect();let f=new Event("marketSelectReady");e.dispatchEvent(f)}}).observe(e,{childList:!0})};var V=()=>{};var O=()=>{window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async e=>{let[o]=e,{listInstance:s}=o,[a]=s.items,l=a.element,p=await t();s.clearItems();let c=p.map(m=>r(m,l));await s.addItems(c);let d=o.form.querySelectorAll('[data-element="filter-list"]');for(let m of d){let h=m.querySelector('[data-element="filter"]');if(!h)return;let u=h.parentElement;if(!u)return;h.remove();let{property:f}=m.dataset;if(!f)return;let g=i(p,f);for(let y of g){let T=n(y,h);T&&u.append(T)}}o.storeFiltersData()}]);let t=async()=>{let e={emea:{api:"groupmemea_jobfeedapi_key",sc:"a1d19b3f3a21cdde1558794436300152",subsidiaryName:"Acceleration"},northAmerica:{api:"groupmnorthamerica_jobfeedapi_key",sc:"60497c5c1cfa4d58341ec4060be40b2f",subsidiaryName:"GroupM%20Nexus%20Acceleration"}},o=[];Object.values(e).forEach(a=>{o.push(`https://api.jobvite.com/api/v2/job?api=${a.api}&sc=${a.sc}&subsidiaryName=${a.subsidiaryName}`)});let s=o.map(a=>fetch(a));return Promise.all(s).then(a=>Promise.all(a.map(l=>l.json()))).then(a=>a.reduce((c,d)=>c.concat(d.requisitions),[]).filter(c=>c.distribution)).catch(a=>{console.error(a)})},r=(e,o)=>{let s=o.cloneNode(!0),a=s.querySelector('[data-job="title"]'),l=s.querySelector('[data-job="description"]'),p=s.querySelector('[data-job="country"]'),c=s.querySelector('[data-job="department"]'),d=s.querySelector('[data-job="apply"]');return a&&(a.textContent=e.title),l&&(l.textContent=e.briefDescription),p&&(p.textContent=e.location),c&&(c.textContent=e.category),d&&(d.href=e.detailLink),s},i=(e,o)=>{let s=new Set;for(let a of e)s.add(a[o]);return[...s]},n=(e,o)=>{let s=o.cloneNode(!0),a=s.querySelector("span"),l=s.querySelector("input");if(!(!a||!l))return a.textContent=e,l.value=e,s}};var N=()=>{let t=[...document.querySelectorAll("[data-modal-button]")],r=[...document.querySelectorAll("[data-modal-trigger]")];[...document.querySelectorAll(".splide__arrows")].forEach(o=>{o.addEventListener("click",()=>{t=[...document.querySelectorAll("[data-modal-button]")],n()})});let n=()=>{t.forEach(o=>{o.removeEventListener("click",e),o.addEventListener("click",e)})},e=o=>{let a=o.currentTarget.dataset.modalButton,l=r.find(p=>p.dataset.modalTrigger===a);L(l,"click")};n()};var W=()=>{O(),N()};var $=()=>{Array.from(document.querySelectorAll('[data-filter="dropdown"]')).forEach(r=>{let i=r.querySelector('[data-filter-toggle="text"]'),n=r.querySelector('[data-filter-toggle="select"]'),e=r.querySelector('[data-filter-toggle="selected"]'),o=r.querySelector('[data-filter-toggle="additional"]'),s=[i,n,e,o];Array.from(r.querySelectorAll("input")).forEach(l=>{l.addEventListener("change",()=>{s.forEach(d=>{d&&(d.style.display="none")});let c=Array.from(r.querySelectorAll("input:checked")).map(d=>d.dataset.inputName).filter(Boolean);c.length===0?i&&(i.style.display="block"):c.length===1?e&&(e.textContent=c[0],e.style.display="inline"):c.length>1&&(e&&(e.textContent=`${c[0]}, `,e.style.display="inline"),o&&(o.textContent=`+${c.length-1}`,o.style.display="inline"))})})})};var R=()=>{let t=document.querySelector('[fs-cmsfilter-element="filters"]');if(!t)return;Array.from(t.querySelectorAll("input")).forEach(i=>{let n=i.dataset.inputName;if(!n)return;let e=n.toLowerCase().replace(/\s+/g,"-");i.name=n,i.id=e;let o=i.nextElementSibling;o&&o.setAttribute("for",i.id)})};var B=(t,r,i)=>{let n=new Date,e;switch(i){case"minutes":e=r*60*1e3;break;case"hours":e=r*60*60*1e3;break;case"days":e=r*24*60*60*1e3;break;case"months":e=r*30*24*60*60*1e3;break;case"years":e=r*365*24*60*60*1e3;break;default:throw new Error("Invalid time unit")}return n.getTime()-t.getTime()<=e};var J=t=>new Date(t);var U=()=>{let t="data-localise",i=E(`[${t}="resource"]`).filter(e=>{let o=b(`[${t}="resource-date"]`,e);if(!(o!=null&&o.textContent))return;let s=J(o.textContent);return B(s,1,"years")}),n=new Map;i.forEach(e=>{var s;let o=e.dataset.priorityIn;o&&(n.has(o)||n.set(o,[]),(s=n.get(o))==null||s.push(e))});for(let e of n.values())e.forEach((o,s)=>{o.dataset.priorityOrder=`${s+1}`})};var _=()=>{R(),$(),U()};var K=()=>{let t=0;x("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js",defer:!0,callback:n}),x("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js",defer:!0,callback:n});let r=document.querySelector('[data-sticky="vertical-center"]'),i=`${(window.innerHeight-r.offsetHeight)/2}px`;r.style.top=i;function n(){if(t+=1,t!==2)return;gsap.registerPlugin(ScrollTrigger);let e=document.querySelector(".capabilities_header"),o=[...document.querySelectorAll(".capabilities_list-item")],s=[...document.querySelectorAll(".capabilities_illustration")];gsap.matchMedia().add("(min-width: 768px)",()=>{o.forEach((l,p)=>{let c=gsap.timeline({scrollTrigger:{trigger:l,start:"top 50%",end:"bottom 50%",scrub:1}}),d=s.find(m=>m.classList.contains(`is-${p+1}`));c.to(d,{opacity:1,duration:1})})})}};var G=()=>{let{pathname:t}=window.location;switch(t){case"/about-us":V();break;case"/services":K();break;case"/resources":_();break;case"/careers":W();break}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{G(),F(),document.querySelector(".splide")&&I(),document.querySelector("[data-copy-url]")&&H()});})();
