"use strict";(()=>{var j=()=>{let r=window.location.href;[...document.querySelectorAll("[data-copy-url]")].forEach(t=>{t.addEventListener("click",()=>{navigator.clipboard.writeText(r)})})};var T=(r,e,t={})=>{let i=document.createElement(r);return Object.entries(t).forEach(([o,n])=>{if(o==="class"){i.classList.add(n);return}if(o==="dataset"){Object.entries(n).forEach(([s,a])=>{i.dataset[s]=a});return}if(o==="text"){i.textContent=n;return}if(o==="callback"){i.onload=n;return}i.setAttribute(o,n)}),e.appendChild(i),i};var F=()=>{T("script",document.head,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",callback:r});function r(){[...document.querySelectorAll(".splide")].forEach(t=>{let i=new Splide(t,{type:"loop",gap:"2.5rem",perPage:3,perMove:1,breakpoints:{991:{perPage:2,gap:"2.5rem"},767:{perPage:1,gap:"2.5rem"}}});i.mount(),document.addEventListener("refreshSplide",()=>{i.refresh()})})}};var E=(r,e=document)=>{let t=e.querySelector(r);return t!=null?t:void 0};var f=(r,e=document)=>{let t=e.querySelectorAll(r);return t.length?[...t]:[]};var S=()=>document.createComment("* placeholder * for element");var w=class{constructor(e,t){this.code=e,this.name=t,this.option=document.createElement("option"),this.option.value=e,this.option.text=t,this.isVisible=!0,this.placeholder=S()}appendTo(e){e.add(this.option)}disable(){if(!this.isVisible||(this.option.replaceWith(this.placeholder),this.isVisible=!1,!this.option.selected))return;let e=this.placeholder.parentElement,t=e.querySelector("option");e.value=t.value,e.dispatchEvent(new Event("change")),this.option.selected=!1}enable(){this.isVisible||(this.placeholder.replaceWith(this.option),this.isVisible=!0)}updateVisibilityForMarket(e){var t;(t=e.langCodes)!=null&&t.includes(this.code)?this.enable():this.disable()}};var P=r=>fetch(r).then(e=>e.text()).then(e=>new DOMParser().parseFromString(e,"text/html"));var V=(r,e,t)=>{t=Math.max(0,Math.min(t,r.children.length)),t===r.children.length?r.appendChild(e):(r.insertBefore(e,r.children[t]),[...r.childNodes].indexOf(e)!==t&&r.insertBefore(e,r.children[t]))};var O=()=>{window.scrollBy(0,100),window.scrollBy(0,-100)};var k=class{constructor(e){this.element=e;let{targetFor:t}=this.element.dataset;this.targetFor=t?t.split(", "):[];let{showIn:i}=this.element.dataset;this.showIn=i?i.split(", "):[];let{hideIn:o}=this.element.dataset;this.hideIn=o?o.split(", "):[];let{priorityIn:n}=this.element.dataset;this.priorityIn=n!=null?n:null;let s=this.element.getAttribute("data-priority-order");this.priorityOrder=s?Number(s):null,this.isVisible=!0,this.placeholder=S(),this.clone=this.element.cloneNode(!0)}showElement(){this.placeholder.replaceWith(this.element),this.isVisible=!0}hideElement(){this.element.replaceWith(this.placeholder),this.isVisible=!1}targetForMarket(e){P(e.link).then(t=>{this.targetFor.map(o=>{let n=t.querySelector(`[data-child-for="${o}"]`);return{parent:o,element:n}}).forEach(({parent:o,element:n})=>{let s=document.querySelector(`[data-target-for="${o}"]`);s&&n&&s.replaceChildren(n)})}).catch(t=>console.error(t))}showInMarket(e){if(this.showIn.includes("Global"))return;let t=this.showIn.includes(e);t&&!this.isVisible?this.showElement():!t&&this.isVisible&&this.hideElement()}hideInMarket(e){let t=this.hideIn.includes(e);t&&this.isVisible?this.hideElement():!t&&!this.isVisible&&this.showElement()}prioritiseInMarket(e){if(!this.priorityOrder)return;if(this.priorityIn===e){let{parentElement:i}=this.element;if(!i)return;this.clone=this.element.cloneNode(!0),this.element.replaceWith(this.placeholder),V(i,this.clone,this.priorityOrder-1)}else this.clone.remove(),this.placeholder.replaceWith(this.element);document.dispatchEvent(new CustomEvent("refreshSplide"))}updateVisibilityForMarket(e){this.targetFor.length>0&&this.targetForMarket(e),this.showIn.length>0&&this.showInMarket(e.id),this.hideIn.length>0&&this.hideInMarket(e.id),this.priorityIn&&this.prioritiseInMarket(e.id),O()}};var C=(r,e,t)=>{e.forEach(i=>{i.updateVisibilityForMarket(r)}),r.langCodes.length<=1?(t.style.opacity="0.3",t.style.pointerEvents="none"):(t.style.removeProperty("opacity"),t.style.removeProperty("pointer-events"))};var W=r=>{let e=new URL(window.location.href);e.searchParams.set("market",r),history.pushState({},"",e.toString()),sessionStorage.setItem("market",r)};var q=(r,e)=>{e.forEach(t=>t.updateVisibilityForMarket(r))};var N=(r,e)=>{e.forEach(t=>{t.textContent=r})};var $=r=>{let t=new URLSearchParams(window.location.search).get("market"),i=t||sessionStorage.getItem("market");!i||!Array.from(r.options).some(n=>n.value===i)||(r.value=i,r.dispatchEvent(new Event("change")))};var _=()=>{var x;let r="data-localise",e=f(`[${r}="switcher-lang"]`),t=f(`[${r}="switcher-icon"]`),i=E(`[${r}="market-wrapper"]`),o=E(`[${r}="market-select"]`,i),n=E(`[${r}="market-list"]`),s=E(`[${r}="lang-wrapper"]`),a=E(`[${r}="lang-select"]`,s);if(!e.length||!t.length||!o||!n||!s||!a)return;let m=f('[data-localise="market-link"]',n),d=f('[data-localise="market-icon"]',n),c=m.map((l,u)=>{var L,h,b,D;return{id:(L=l.textContent)!=null?L:"",link:l.href,langCodes:(D=(b=(h=l.dataset)==null?void 0:h.langCodes)==null?void 0:b.split(", "))!=null?D:[],icon:d[u]}}),p=c.filter(l=>l.langCodes.length>1).map(l=>l.id).join(", ");e.forEach(l=>{l.dataset.showIn=p});let g=[{code:Weglot.options.language_from,name:Weglot.getLanguageName(Weglot.options.language_from)},...Weglot.options.languages.map(l=>({code:l.language_to,name:Weglot.getLanguageName(l.language_to)}))].map(({code:l,name:u})=>new w(l,u));g.forEach(l=>{l.appendTo(a)});let M=(x=sessionStorage.getItem("langCode"))!=null?x:c[0].langCodes[0];sessionStorage.setItem("langCode",M),a.value=M,Weglot.switchTo(M);let v=f("[data-target-for], [data-show-in], [data-hide-in], [data-priority-in]").map(l=>new k(l)),H=f('[data-localise="mirror-market"]');o.addEventListener("marketSelectReady",()=>{o.addEventListener("change",u=>{let{value:L}=u.target,h=c.find(b=>b.id===L);h&&(W(h.id),C(h,g,s),q(h,v),N(h.id,H),t.forEach(b=>{b.src=h.icon.src,b.alt=h.icon.alt}))}),$(o);let l=c.find(u=>u.id===o.value);l===c[0]&&(C(l,g,s),q(l,v))}),a.addEventListener("change",l=>{let{value:u}=l.target;sessionStorage.setItem("langCode",u),Weglot.switchTo(u)});let I=c.length;if(o.options.length===I){let l=new Event("marketSelectReady");o.dispatchEvent(l)}else new MutationObserver((u,L)=>{if(o.options.length===c.length){L.disconnect();let h=new Event("marketSelectReady");o.dispatchEvent(h)}}).observe(o,{childList:!0})};var R=()=>{};var J=()=>{window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async o=>{let[n]=o,{listInstance:s}=n,[a]=s.items,m=a.element,d=await r();s.clearItems();let c=d.map(y=>e(y,m));await s.addItems(c);let p=n.form.querySelectorAll('[data-element="filter-list"]');for(let y of p){let g=y.querySelector('[data-element="filter"]');if(!g)return;let M=g.parentElement;if(!M)return;g.remove();let{property:v}=y.dataset;if(!v)return;let H=t(d,v);for(let I of H){let x=i(I,g);x&&M.append(x)}}n.storeFiltersData()}]);let r=async()=>{let o={emea:{api:"groupmemea_jobfeedapi_key",sc:"a1d19b3f3a21cdde1558794436300152",subsidiaryName:"Acceleration"},northAmerica:{api:"groupmnorthamerica_jobfeedapi_key",sc:"60497c5c1cfa4d58341ec4060be40b2f",subsidiaryName:"GroupM%20Nexus%20Acceleration"}},n=[];Object.values(o).forEach(a=>{n.push(`https://api.jobvite.com/api/v2/job?api=${a.api}&sc=${a.sc}&subsidiaryName=${a.subsidiaryName}`)});let s=n.map(a=>fetch(a));return Promise.all(s).then(a=>Promise.all(a.map(m=>m.json()))).then(a=>a.reduce((c,p)=>c.concat(p.requisitions),[]).filter(c=>c.distribution)).catch(a=>{console.error(a)})},e=(o,n)=>{let s=n.cloneNode(!0),a=s.querySelector('[data-job="title"]'),m=s.querySelector('[data-job="description"]'),d=s.querySelector('[data-job="country"]'),c=s.querySelector('[data-job="department"]'),p=s.querySelector('[data-job="apply"]');return a&&(a.textContent=o.title),m&&(m.textContent=o.briefDescription),d&&(d.textContent=o.location),c&&(c.textContent=o.category),p&&(p.href=o.detailLink),s},t=(o,n)=>{let s=new Set;for(let a of o)s.add(a[n]);return[...s]},i=(o,n)=>{let s=n.cloneNode(!0),a=s.querySelector("span"),m=s.querySelector("input");if(!(!a||!m))return a.textContent=o,m.value=o,s}};var A=(r,e)=>(Array.isArray(e)||(e=[e]),e.map(i=>r.dispatchEvent(new Event(i,{bubbles:!0}))).every(i=>i));var B=()=>{let r=[...document.querySelectorAll("[data-modal-button]")],e=[...document.querySelectorAll("[data-modal-trigger]")];[...document.querySelectorAll(".splide__arrows")].forEach(n=>{n.addEventListener("click",()=>{r=[...document.querySelectorAll("[data-modal-button]")],i()})});let i=()=>{r.forEach(n=>{n.removeEventListener("click",o),n.addEventListener("click",o)})},o=n=>{let a=n.currentTarget.dataset.modalButton,m=e.find(d=>d.dataset.modalTrigger===a);A(m,"click")};i()};var U=()=>{J(),B()};var K=()=>{Array.from(document.querySelectorAll('[data-filter="dropdown"]')).forEach(e=>{let t=e.querySelector('[data-filter-toggle="text"]'),i=e.querySelector('[data-filter-toggle="select"]'),o=e.querySelector('[data-filter-toggle="selected"]'),n=e.querySelector('[data-filter-toggle="additional"]'),s=[t,i,o,n];Array.from(e.querySelectorAll("input")).forEach(m=>{m.addEventListener("change",()=>{s.forEach(p=>{p&&(p.style.display="none")});let c=Array.from(e.querySelectorAll("input:checked")).map(p=>p.dataset.inputName).filter(Boolean);c.length===0?t&&(t.style.display="block"):c.length===1?o&&(o.textContent=c[0],o.style.display="inline"):c.length>1&&(o&&(o.textContent=`${c[0]}, `,o.style.display="inline"),n&&(n.textContent=`+${c.length-1}`,n.style.display="inline"))})})})};var G=()=>{let r=document.querySelector('[fs-cmsfilter-element="filters"]');if(!r)return;Array.from(r.querySelectorAll("input")).forEach(t=>{let i=t.dataset.inputName;if(!i)return;let o=i.toLowerCase().replace(/\s+/g,"-");t.name=i,t.id=o;let n=t.nextElementSibling;n&&n.setAttribute("for",t.id)})};var X=(r,e,t)=>{let i=new Date,o;switch(t){case"minutes":o=e*60*1e3;break;case"hours":o=e*60*60*1e3;break;case"days":o=e*24*60*60*1e3;break;case"months":o=e*30*24*60*60*1e3;break;case"years":o=e*365*24*60*60*1e3;break;default:throw new Error("Invalid time unit")}return i.getTime()-r.getTime()<=o};var Y=r=>new Date(r);var z=()=>{let r="data-localise",t=f(`[${r}="resource"]`).filter(o=>{let n=E(`[${r}="resource-date"]`,o);if(!(n!=null&&n.textContent))return;let s=Y(n.textContent);return X(s,1,"years")}),i=new Map;t.forEach(o=>{var s;let n=o.dataset.priorityIn;n&&(i.has(n)||i.set(n,[]),(s=i.get(n))==null||s.push(o))});for(let o of i.values())o.forEach((n,s)=>{n.dataset.priorityOrder=`${s+1}`})};var Q=()=>{G(),K(),z()};var Z=()=>{let r=0;T("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js",defer:!0,callback:i}),T("script",document.head,{src:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js",defer:!0,callback:i});let e=document.querySelector('[data-sticky="vertical-center"]'),t=`${(window.innerHeight-e.offsetHeight)/2}px`;e.style.top=t;function i(){if(r+=1,r!==2)return;gsap.registerPlugin(ScrollTrigger);let o=document.querySelector(".capabilities_header"),n=[...document.querySelectorAll(".capabilities_list-item")],s=[...document.querySelectorAll(".capabilities_illustration")];gsap.matchMedia().add("(min-width: 768px)",()=>{n.forEach((m,d)=>{let c=gsap.timeline({scrollTrigger:{trigger:m,start:"top 50%",end:"bottom 50%",scrub:1}}),p=s.find(y=>y.classList.contains(`is-${d+1}`));c.to(p,{opacity:1,duration:1})})})}};var ee=()=>{let{pathname:r}=window.location;switch(r){case"/about-us":R();break;case"/services":Z();break;case"/resources":Q();break;case"/careers":U();break}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{ee(),_(),document.querySelector(".splide")&&F(),document.querySelector("[data-copy-url]")&&j()});})();
